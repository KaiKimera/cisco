! ----------------------------------------------------------------------------------------------------------------------
! SERVICES.
! ----------------------------------------------------------------------------------------------------------------------
service password-encryption
service timestamps debug datetime msec localtime show-timezone
service timestamps log datetime localtime show-timezone
service tcp-keepalives-in
service tcp-keepalives-out
! ----------------------------------------------------------------------------------------------------------------------
! GENERAL.
! ----------------------------------------------------------------------------------------------------------------------
! Hostname: 'gw1'.
! Domain:   'gw1.lan'
! ----------------------------------------------------------------------------------------------------------------------
aaa new-model
aaa authentication login default local
!
hostname gw1
logging buffered 4096
ip cef
ip domain-name gw1.lan
ip multicast-routing
!
memory reserve critical 4096
memory reserve console 4096
! ----------------------------------------------------------------------------------------------------------------------
! SSH.
! ----------------------------------------------------------------------------------------------------------------------
! crypto key generate rsa modulus 2048
ip ssh time-out 60
ip ssh authentication-retries 5
! ip ssh source-interface GigabitEthernet 0/1
ip ssh version 2
! ----------------------------------------------------------------------------------------------------------------------
! LOGIN.
! ----------------------------------------------------------------------------------------------------------------------
login block-for 60 attempts 3 within 10
login delay 5
login quiet-mode access-class 10
login on-failure log every 5
login on-success log every 3
! ----------------------------------------------------------------------------------------------------------------------
! USERS AND PASSWORDS.
! ----------------------------------------------------------------------------------------------------------------------
enable password qwerty-en
username admin privilege 15 password qwerty-admin
! ----------------------------------------------------------------------------------------------------------------------
! TIME.
! ----------------------------------------------------------------------------------------------------------------------
clock timezone UTC 3
clock update-calendar
ntp update-calendar
ntp server 0.pool.ntp.org
ntp server 1.pool.ntp.org
ntp server 2.pool.ntp.org
ntp server 3.pool.ntp.org
! ----------------------------------------------------------------------------------------------------------------------
! DNS.
! ----------------------------------------------------------------------------------------------------------------------
ip dns server
ip name-server 1.1.1.1
ip name-server 8.8.8.8
! ----------------------------------------------------------------------------------------------------------------------
! DHCP.
! ----------------------------------------------------------------------------------------------------------------------
! IP pool: '10.1.200.0 - 10.1.200.254'.
! Network: '10.1.0.0/16'.
! Gateway: '10.1.0.1'.
! DNS:     '10.1.0.1'.
! ----------------------------------------------------------------------------------------------------------------------
ip dhcp excluded-address 10.1.200.0 10.1.200.254
ip dhcp pool LAN
  network 10.1.0.0 255.255.0.0
  default-router 10.1.0.1
  domain-name home.lan
  dns-server 10.1.0.1
! ----------------------------------------------------------------------------------------------------------------------
! INTERFACES.
! ----------------------------------------------------------------------------------------------------------------------
interface FastEthernet 0/0
  ip address dhcp
  ip nat outside
interface FastEthernet 0/1
  ip address 10.1.0.1 255.255.0.0
  ip nat inside
! ----------------------------------------------------------------------------------------------------------------------
! TERMINAL.
! ----------------------------------------------------------------------------------------------------------------------
line con 0
  password qwerty-con
  login local
  logging synchronous
line vty 0 4
  transport input telnet ssh
  password qwerty-vty
  login local
  ! Auto-login in configure mode:
  privilege level 15
line aux 0
  ! transport input none
  ! transport output none
  ! no exec
  ! exec-timeout 0 1
  ! no password
! ----------------------------------------------------------------------------------------------------------------------
! ACL: NAT.
! ----------------------------------------------------------------------------------------------------------------------
ip access-list standard ACL_NAT
  permit 10.1.0.0 0.0.255.255
!
end
